{ "name": "AI Voice Agent (Twilio + OpenAI)", "nodes": [ { "parameters": { "httpMethod": "POST", "path": "twilio-voice-inbound", "options": {} }, "id": "1", "name": "Twilio Webhook", "type": "n8n-nodes-base.webhook", "typeVersion": 1, "position": [400, 300] }, { "parameters": { "resource": "chat", "model": "gpt-4o", "messagesUi": { "values": [ { "role": "system", "content": "You are a professional voice assistant for a SaaS company. Keep responses concise and helpful for a phone conversation." }, { "role": "user", "content": "={{$node["Twilio Webhook"].json["body"]["SpeechResult"]}}" } ] }, "options": {} }, "id": "2", "name": "OpenAI LLM", "type": "n8n-nodes-base.openAi", "typeVersion": 1, "position": [650, 300], "credentials": { "openAiApi": { "id": "your_openai_cred_id" } } }, { "parameters": { "operation": "toSpeech", "text": "={{$node["OpenAI LLM"].json["choices"][0]["message"]["content"]}}", "voice": "alloy", "format": "mp3" }, "id": "3", "name": "OpenAI TTS", "type": "n8n-nodes-base.openAi", "typeVersion": 1, "position": [900, 300] }, { "parameters": { "respondWith": "text", "responseBody": "=<?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>\n<Response>\n <Say>{{$node["OpenAI LLM"].json["choices"][0]["message"]["content"]}}</Say>\n <Gather input="speech" action="/webhook/twilio-voice-inbound" method="POST">\n <Say>Is there anything else I can help you with?</Say>\n </Gather>\n</Response>", "options": { "responseHeaders": "Content-Type=text/xml" } }, "id": "4", "name": "TwiML Response", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1, "position": [1150, 300] } ], "connections": { "Twilio Webhook": { "main": [[{ "node": "OpenAI LLM", "index": 0 }]] }, "OpenAI LLM": { "main": [[{ "node": "OpenAI TTS", "index": 0 }]] }, "OpenAI TTS": { "main": [[{ "node": "TwiML Response", "index": 0 }]] } } }